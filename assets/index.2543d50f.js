import{u as e,R as t,B as a,a as n,F as l,H as r,N as c,T as o,I as s,b as m,c as i,P as E,r as u,d,e as g,f as p,S as x,C as h,g as y,h as f,i as b,j as S,k as w,l as v,m as C,n as W,o as z,V as I,p as k,q as F,s as M,t as _,v as j,w as D,x as R,y as N}from"./vendor.3c8d51fc.js";function q(){const{colorMode:E,toggleColorMode:u}=e();return t.createElement(a,{bg:n("gray.100","gray.900"),px:4},t.createElement(l,{h:16,alignItems:"center",justifyContent:"space-between"},t.createElement(r,{spacing:8,alignItems:"center"},t.createElement(a,null,t.createElement(c,{to:"/"},t.createElement(o,{bgGradient:"linear(to-l, #2538DE,#60BDF4)",bgClip:"text",fontSize:"3xl",fontWeight:"extrabold"},"The Weather")))),t.createElement(l,{alignItems:"center"},t.createElement(s,{icon:"light"===E?t.createElement(m,null):t.createElement(i,null),size:"lg",variant:"outline",mr:4,isRound:!0,alignSelf:"flex-end",onClick:u}))))}const O=({setCity:e,loading:a})=>{const[n,l]=u.exports.useState(""),c=d();return t.createElement("form",{onSubmit:t=>{t.preventDefault(),n?(e(n),l("")):c({title:"No data",status:"error",duration:2e3,isClosable:!1,position:"top"})}},t.createElement(r,{mt:"5"},t.createElement(g,{variant:"filled",placeholder:"Search City",value:n,onChange:e=>l(e.target.value)}),t.createElement(p,{isLoading:a,colorScheme:"gray",px:"8",type:"submit"},"Search")))};O.propTypes={setCity:E.func.isRequired,loading:E.bool.isRequired};const T=({title:e,stat:r,icon:c})=>t.createElement(x,{px:{base:2,md:4},py:"2",rounded:"lg"},t.createElement(l,{justifyContent:"space-between"},t.createElement(a,{my:"auto",color:n("gray.800","gray.200"),alignContent:"center"},c),t.createElement(a,{pl:{base:2,md:4}},t.createElement(o,{fontSize:"sm",color:"gray.500"},e),t.createElement(o,{fontWeight:600},r))));function $({weather:e={},loading:l}){const{location:r,current:s}=e;return s&&0!==Object.keys(s).length?t.createElement(h,{py:6},t.createElement(a,{maxW:"320px",w:"full",bg:n("white","gray.900"),boxShadow:"2xl",rounded:"lg",p:6,textAlign:"center"},t.createElement(y,{isLoaded:!l},t.createElement(o,{fontSize:"xl"},t.createElement("strong",null,r.name),", ",r.country),t.createElement(a,null,t.createElement(f,{spacing:0,align:"center",mt:5},t.createElement(b,{boxSize:"32",src:s.condition.icon,alt:"Weather data by WeatherAPI.com"}))),t.createElement(a,null,t.createElement(f,{mt:-2,spacing:0,align:"center",mb:5},t.createElement(S,{fontSize:"2xl",fontWeight:500,fontFamily:"body"},s.condition.text),t.createElement(o,{color:"gray.500"},w(s.last_updated).format("dddd, D MMM"))),t.createElement(f,{spacing:0,align:"center",mb:5},t.createElement(o,{fontSize:"6xl",fontWeight:"700"},s.temp_c.toFixed(),t.createElement("span",null,"°"))),t.createElement(v,{columns:2,spacing:6},t.createElement(T,{title:"WIND",stat:`${s.wind_kph}km/h`,icon:t.createElement(C,{size:20})}),t.createElement(T,{title:"FEELS LIKE",stat:`${s.feelslike_c.toFixed()}`,icon:t.createElement(W,{size:20})}),t.createElement(T,{title:"INDEX UV",stat:s.uv,icon:t.createElement(m,{size:20})}),t.createElement(T,{title:"PRESSURE",stat:`${s.pressure_mb} mbar`,icon:t.createElement(z,{size:20})})),t.createElement(c,{to:"/nextdays"},t.createElement(p,{w:"full",mt:8,bg:"blue.400",color:"white",rounded:"md",boxShadow:"0px 1px 25px -5px rgb(66 153 225 / 48%), 0 10px 10px -5px rgb(66 153 225 / 43%)",_hover:{transform:"translateY(-2px)",boxShadow:"lg",bg:"blue.500"},_focus:{bg:"blue.500"}},"Next days")))))):null}T.propTypes={title:E.string.isRequired,stat:E.oneOfType([E.number,E.string]),icon:E.element.isRequired};function B({city:e,alert:t,saveWeather:a}){const[n,l]=u.exports.useState(!1);return u.exports.useEffect((()=>{e&&(l(!0),async function({city:e,days:t}={}){const a=`https://api.weatherapi.com/v1/forecast.json?key=a5f19f58a7cb41c2bed53348212007&q=${e}&days=${t}&alerts=no`;return await fetch(a).then((e=>e.json())).then((e=>e))}({city:e,days:7}).then((e=>{if(e.error)return t({title:e.error.message,status:"error",duration:2e3,isClosable:!1,position:"top"}),void l(!1);a(e),l(!1)})))}),[e]),{loading:n}}const L=u.exports.createContext({});function P({children:e}){const a=localStorage.getItem("lastSearch"),[n,l]=u.exports.useState({}),[r,c]=u.exports.useState(a);return t.createElement(L.Provider,{value:{weather:n,saveWeather:e=>{l(e),localStorage.setItem("lastSearch",JSON.stringify(e.location.name))},city:r,setCity:c}},e)}const A=()=>{const{weather:e,saveWeather:a,city:n,setCity:l}=u.exports.useContext(L),r=d(),{loading:c}=B({city:n,alert:r,saveWeather:a});return t.createElement(t.Fragment,null,t.createElement(I,{p:4},t.createElement(O,{setCity:l,loading:c})),t.createElement($,{weather:e,loading:c}))},U=({weather:e})=>t.createElement(a,{maxW:"320px",w:"full",bg:n("white","gray.900"),boxShadow:"2xl",rounded:"lg",p:6,textAlign:"center"},t.createElement(o,{color:"gray.500"},"Next Days"),t.createElement(a,{mt:6},e.forecast.forecastday.map((e=>t.createElement(l,{key:e.date,mt:"4"},t.createElement(a,{w:"40px"},t.createElement(b,{boxSize:"8",src:e.day.condition.icon})),t.createElement(a,{flex:"2"},t.createElement(o,null,w(e.date).format("dddd, D MMM"))),t.createElement(a,{flex:"1"},t.createElement(o,null,e.day.maxtemp_c.toFixed(),"/",e.day.mintemp_c.toFixed(),t.createElement("span",null,"°")))))))),V=()=>{const{weather:e,saveWeather:a}=u.exports.useContext(L);return 0===Object.keys(e).length&&B({city:localStorage.getItem("lastSearch"),saveWeather:a}),t.createElement(t.Fragment,null,0!==Object.keys(e).length?t.createElement(t.Fragment,null,t.createElement(I,{p:4},t.createElement(r,{mt:"5"},t.createElement(o,{fontSize:"xl"},t.createElement("strong",null,e.location.name),", ",e.location.country))),t.createElement(h,{py:6},t.createElement(U,{weather:e}))):t.createElement(I,{p:9},t.createElement(r,{mt:"5"},t.createElement(k,{size:"xl"}))),t.createElement(I,{p:4},t.createElement(r,null,t.createElement(c,{to:"/"},t.createElement(p,{leftIcon:t.createElement(F,null),colorScheme:"blue",_hover:{transform:"translateY(-2px)",boxShadow:"lg"}},"Back")))))};function Y(){return t.createElement(P,null,t.createElement(M,null,t.createElement(q,null),t.createElement(_,null,t.createElement(j,{component:A,path:"/",exact:!0}),t.createElement(j,{component:V,path:"/nextdays",exact:!0}))))}D.render(t.createElement(t.StrictMode,null,t.createElement(R,null,t.createElement(N,{initialColorMode:"light"}),t.createElement(Y,null))),document.getElementById("root"));
